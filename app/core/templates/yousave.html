{% extends 'layout.html' %}
{% load static %}

{% block content %}
    <header>
        <div class="content">
            <h2 id="title">How you saved the world?</h2>

                <nav class="pages-tab">
                <ul class ="nav nav-pills nav-fill ">
                    <li class="nav-item "> <a class="nav-link text-muted" href="/">times I was a hero</a></li>
                    <li class="nav-item "> <a class="nav-link active bg-dark" href="/yousave">times you were a hero</a></li>
                    <li class="nav-item"> <a class="nav-link text-muted" href="/contact">contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class= "d-flex justify-content-start flex-column" id="main-text">
        <h3>Spread the story</h3>
        
            <form id="saves" method="post" class="form" action="{% url 'yousave' %}">
                {% csrf_token %}

                <label for="when">When did you do it?</label>
                <input type="date" id="when" name="when" placeholder="When?" required>

                <label for="how">How did you do it?</label>
                <input type="text" id="how" name="how"  placeholder="How?" size='43' autocomplete="off" required>

                <label for="thanks">Who will you thank for?</label>
                <input type="text" id="thanks" name="thanks"  placeholder="Who?" size='17' autocomplete="off" required>
                <input type="submit" id="share" value="Share" size='10'>

            </form>
    </div>

    <div class= "d-flex justify-content-start flex-column" id="main-text-table"> 
        {% if times %}
        <div class="table-responsive">
            <table class="table table-borderless">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">When</th>
                        <th scope="col">How</th>
                        <th scope="col">Thanks to</th>
                    </tr>
                </thead>

                <tbody>
                {% for time in times %}
                    <tr>
                        <th scope="row">{{ time.id }}</th>
                        <td>{{ time.when }}</td>
                        <td>{{ time.how }}</td>
                        <td>{% for name in time.thanks.all %}{{ name }} {% endfor %}</td>
                    </tr>
                {% endfor %}
               
                </tbody>
            </table>
        </div>
        {% else %} 
        <h2>No inputs yet :(</h2>
        {% endif %}
    </div>
{% endblock %}
